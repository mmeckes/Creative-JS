<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title></title>
<style type="text/css"> 
	body {
		background-color: #000000;
		margin: 0px;
		text-align:center;
	}
	canvas {
		background-color:#111133;
	}
	
</style>


</head>
<body>
<script>

// Tree code converted from Jean-no's excellent Processing example : http://www.openprocessing.org/visuals/?visualID=1758

// canvas element and 2D context

// canvas element and 2D context
var canvas = document.createElement( 'canvas' ),
	context = canvas.getContext( '2d' );

canvas.width = 800; 
canvas.height = 600; 
document.body.appendChild(canvas);

var c = context,
TO_RADIANS = Math.PI/180; 
c.strokeStyle = "#ffffff";

c.save(); 
c.translate(200,500); 
c.scale(0.8,0.8); 
branch(100, -90 * TO_RADIANS);
c.restore(); 


c.save(); 
c.translate(400,550); 
branch(100, -90 * TO_RADIANS);
c.restore(); 

// x and y = pos
// a = angle
// s = stroke weight
function branch(length, angle){
	
	c.save(); 
	c.lineWidth = length*0.06;
	c.lineCap = "round"; 
	
	c.rotate(angle); 
	
	line(0,0,length,0);
	
	c.translate(length,0); 
	
	if(length>3){
		//branch on the left
		branch( length * random(0.55,0.80), random(-30,-15) * TO_RADIANS);
		//middle
		if(Math.random()<0.5) branch( length * random(0.55,0.80), random(-5,5) * TO_RADIANS);
		//branch on the right
		branch( length * random(0.55,0.80), random(30,15) * TO_RADIANS);
	} else {
		if(Math.random()<0.1)
		{
			c.fillStyle = "hsla("+random(250,350)+", 80%, 80%, 0.2)"; 
			circle(0,0,random(1,6)); 
		}
		
	}
	
	
	c.restore(); 
}


function random(v1, v2){
	return ((Math.random()*(v2-v1))+v1);
	
}

function line(x1, y1, x2, y2)
{
	c.beginPath();
	c.moveTo(x1, y1);
	c.lineTo(x2, y2);
	c.stroke();	
}


function circle(x,y,radius)
{
	c.beginPath(); 
	c.arc(x,y,radius, 0, Math.PI*2, true); 
	c.fill(); 
	
}


</script>
</body>
</html>
